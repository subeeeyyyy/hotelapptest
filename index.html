<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Order Menu</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: #f9f9f9;
      color: #333;
    }
    header {
      background-color: #007bff;
      color: white;
      padding: 1.5rem 2rem;
      text-align: center;
      font-size: 2rem;
      font-weight: 700;
    }
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
    }
    .menu-item {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      flex: 1 1 calc(25% - 1.5rem);
      box-sizing: border-box;
    }
    .menu-image {
      width: 100%;
      height: 140px;
      border-radius: 8px;
      object-fit: cover;
    }
    .menu-details {
      text-align: center;
    }
    .menu-header {
      display: flex;
      justify-content: space-between;
      width: 100%;
    }
    .product-name {
      font-size: 1.3rem;
      font-weight: bold;
    }
    .price {
      color: #007bff;
      font-weight: bold;
    }
    .specifications {
      font-size: 0.9rem;
      color: #666;
      margin-top: 0.5rem;
    }
    .order-button {
      margin-top: 1rem;
      background-color: #28a745;
      color: white;
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .order-button:hover {
      background-color: #218838;
    }
    .popup {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .popup-content {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
    }
    .popup-content input, .popup-content textarea, .popup-content select {
      width: 100%;
      padding: 0.5rem;
      margin: 0.5rem 0;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .popup-content button {
      background: #25D366;
      color: white;
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .popup-content button:hover {
      background: #20b95a;
    }
    .close-btn {
      float: right;
      font-weight: bold;
      cursor: pointer;
      color: #888;
    }
    .close-btn:hover {
      color: red;
    }
    @media (max-width: 768px) {
      .menu-item { flex: 1 1 calc(50% - 1.5rem); }
    }
    @media (max-width: 480px) {
      .menu-item { flex: 1 1 100%; }
    }
  </style>
</head>
<body>

<header>üçΩÔ∏è Order Your Favorite Items</header>

<div class="container">
  <div class="menu-item" data-product="Cheeseburger Deluxe" data-price="8.99">
    <img class="menu-image" src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=400&q=80" alt="Cheeseburger" />
    <div class="menu-details">
      <div class="menu-header">
        <div class="product-name">Cheeseburger Deluxe</div>
        <div class="price">$8.99</div>
      </div>
      <div class="specifications">Juicy beef patty with cheese, lettuce, tomato, onion & special sauce.</div>
      <button class="order-button">Order Now</button>
    </div>
  </div>
  <div class="menu-item" data-product="Veg Momo" data-price="5.00">
    <img class="menu-image" src="https://images.unsplash.com/photo-1615392587889-c2cf5dc6d03a?auto=format&fit=crop&w=400&q=80" alt="Veg Momo" />
    <div class="menu-details">
      <div class="menu-header">
        <div class="product-name">Veg Momo</div>
        <div class="price">$5.00</div>
      </div>
      <div class="specifications">Steamed dumplings stuffed with spiced veggies, served with chutney.</div>
      <button class="order-button">Order Now</button>
    </div>
  </div>
</div>

<div class="popup" id="orderPopup">
  <div class="popup-content">
    <span class="close-btn" onclick="closePopup()">&times;</span>
    <h3>Order Summary</h3>
    <div id="cartList" style="max-height:150px; overflow-y:auto; font-size: 0.9rem;"></div>
    <p><strong>Total: $<span id="totalAmount">0.00</span></strong></p>
    <input type="text" id="custName" placeholder="Your Name" required />
    <input type="text" id="custPhone" placeholder="Phone Number" required />
    <textarea id="custAddr" placeholder="Delivery Address (optional)"></textarea>
    <select id="custType">
      <option value="Delivery">Delivery</option>
      <option value="Pickup">Pickup</option>
    </select>
    <button onclick="sendOrder()">Order via WhatsApp</button>
  </div>
</div>

<script>
  let cart = [];

  document.querySelectorAll('.order-button').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.closest('.menu-item');
      const name = item.getAttribute('data-product');
      const price = parseFloat(item.getAttribute('data-price'));

      const existing = cart.find(p => p.name === name);
      if (existing) {
        existing.qty += 1;
      } else {
        cart.push({ name, price, qty: 1 });
      }

      // Auto-fill saved user info
      document.getElementById('custName').value = localStorage.getItem('userName') || '';
      document.getElementById('custPhone').value = localStorage.getItem('userPhone') || '';

      updateCartDisplay();
      document.getElementById('orderPopup').style.display = 'flex';
    });
  });

  function updateCartDisplay() {
    const cartList = document.getElementById('cartList');
    const totalAmount = document.getElementById('totalAmount');
    cartList.innerHTML = '';
    let total = 0;

    cart.forEach((item, i) => {
      const itemTotal = item.price * item.qty;
      total += itemTotal;
      cartList.innerHTML += `
        <div>
          ${item.name} - $${item.price} √ó ${item.qty} = $${itemTotal.toFixed(2)}
          <button onclick="removeItem(${i})" style="color:red; float:right;">‚ùå</button>
        </div>
      `;
    });

    totalAmount.textContent = total.toFixed(2);
  }

  function removeItem(index) {
    cart.splice(index, 1);
    updateCartDisplay();
  }

  function closePopup() {
    document.getElementById('orderPopup').style.display = 'none';
  }

  function sendOrder() {
    const nameInput = document.getElementById('custName');
    const phoneInput = document.getElementById('custPhone');

    const name = nameInput.value.trim();
    const phone = phoneInput.value.trim();
    const address = document.getElementById('custAddr').value.trim();
    const type = document.getElementById('custType').value;

    if (!name || !phone || cart.length === 0) {
      alert('Please enter your name, phone number, and add at least one item.');
      return;
    }

    localStorage.setItem('userName', name);
    localStorage.setItem('userPhone', phone);

    let msg = `Hello, I want to order:\n\n`;
    cart.forEach(item => {
      msg += `‚Ä¢ ${item.name} √ó ${item.qty} = $${(item.qty * item.price).toFixed(2)}\n`;
    });

    const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
    msg += `\nTotal: $${total.toFixed(2)}\n`;
    msg += `Name: ${name}\nPhone: ${phone}\nAddress: ${address}\nOrder Type: ${type}`;

    const whatsappLink = `https://wa.me/9779804983882?text=${encodeURIComponent(msg)}`;
    window.open(whatsappLink, '_blank');
    closePopup();
  }
</script>

</body>
</html>
